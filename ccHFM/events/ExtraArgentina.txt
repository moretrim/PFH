# frequent civil wars in Argentina - these are treated as civil wars but liberal rebellions are treated elsewhere - this is placed here because the code structure is similar
country_event = {
    id      = 251000
    title   = "EVTNAME251000"
    desc    = "EVTDESC251000"
    picture = "Rosas"

    trigger = {
        civilized = yes
        capital_scope = { continent = south_america }

        OR = {
            tag = ARC
            tag = ARG
        }

        year = 1837

        NOT = {
            OR = {
                has_country_flag = argentine_civil_wars_in_progress
            }
        }
    }

    mean_time_to_happen = {
        months = 1
    }

    option = {
        name = "EVTOPTA251000"

        add_country_modifier = {
            name = cch.argentine-civil-wars
            duration = -1
        }

        any_pop = {
            limit = {
                location = {
                    is_colonial = no

                    NOT = {
                        province_id = 2348
                    }
                }
            }

            consciousness = 4

            militancy = 2
        }

        set_global_flag = argentine_civil_wars_happening
        set_country_flag = argentine_civil_wars_in_progress
    }
}

# rbx note - Response from Brazil if supporting Entre Rios
country_event = {
    id      = 251010
    title   = "EVTNAME251010"
    desc    = "EVTDESC251010"
    picture = "rosas_urquiza"

    fire_only_once = yes

    trigger = {
        tag = ENT

        BRZ = {
            exists = yes
            has_country_flag = will_support_entre_rios
        }
    }

    mean_time_to_happen = { days = 3 }

    option = {
        name = "EVTOPTA251010"

        any_owned = {
            any_pop = {
                limit = {
                    type = soldiers

                    OR = {
                        is_primary_culture = yes
                        is_accepted_culture = yes
                    }
                }

                reduce_pop = 2.0
            }
        }

        ## artillery brigades using Roquesort formula
        # build cost
        artillery = 40
        canned_food = 40
        liquor = 40

        # supplies
        artillery = 158
        canned_food = 88

        treasury = 39420
    }
}

# rbx note - Response from Uruguay if supporting Entre Rios
country_event = {
    id      = 251011
    title   = "EVTNAME251011"
    desc    = "EVTDESC251011"
    picture = "rosas_urquiza"

    fire_only_once = yes

    trigger = {
        tag = ENT

        URU = {
            exists = yes
            has_country_flag = will_support_entre_rios
        }
    }

    mean_time_to_happen = { days = 2 }

    option = {
        name = "EVTOPTA251011"

        any_owned = {
            any_pop = {
                limit = {
                    type = soldiers

                    OR = {
                        is_primary_culture = yes
                        is_accepted_culture = yes
                    }
                }

                reduce_pop = 2.0
            }
        }

        ## infantry brigades using Roquesort formula
        # build cost
        small_arms = 20
        canned_food = 20
        regular_clothes = 20

        # supplies
        small_arms = 10
        ammunition = 56
        canned_food = 52
        regular_clothes = 8

        # rbx note-does not seem realistic to get more cash than this from URU even though math would require it
        treasury = 9855
    }
}

# rbx note - Response from Corrientes if supporting Entre Rios
country_event = {
    id      = 251012
    title   = "EVTNAME251012"
    desc    = "EVTDESC251012"
    picture = "rosas_urquiza"

    fire_only_once = yes

    trigger = {
        tag = ENT

        CRT = {
            exists = yes
            has_country_flag = will_support_entre_rios
        }
    }

    mean_time_to_happen = { days = 1 }

    option = {
        name = "EVTOPTA251012"

        any_owned = {
            any_pop = {
                limit = {
                    type = soldiers

                    OR = {
                        is_primary_culture = yes
                        is_accepted_culture = yes
                    }
                }

                reduce_pop = 2.0
            }
        }

        ## infantry brigades using Roquesort formula
        # build cost
        small_arms = 20
        canned_food = 20
        regular_clothes = 20

        # supplies
        small_arms = 10
        ammunition = 56
        canned_food = 52
        regular_clothes = 8

        # rbx note-does not seem realistic to get more cash than this from CRT even though math would require it
        treasury = 9855
    }
}

# SBA secedes-this should occur in opposition to federalist power such as Entre Rios winning its war-otherwise they possibly would have waited until Rosas died
country_event = {
    id      = 251020
    title   = "EVTNAME251020"
    desc    = "EVTDESC251020"
    picture = "mitre_urquiza"

    fire_only_once = yes

    trigger = {
        tag = ARC
        year = 1852

        SBA = {
            exists = no
        }

        ARC = {
            exists = yes

            OR = {
                vassal_of = ENT
                vassal_of = CRT
                vassal_of = URU
                vassal_of = PRG
                ruling_party_ideology = conservative
                ruling_party_ideology = reactionary
            }

            NOT = {
                has_country_flag = rosas_won_platine
            }

            has_country_flag = entre_rios_won_platine
        }
    }

    mean_time_to_happen = { months = 7 }

    option = {
        name = "EVTOPTA251020"

        ARC = {
            release = SBA

            add_country_modifier = {
                name = no_more_war
                duration = 730
            }
        }

        random_country = { 
            limit = {
                OR = {
                    tag = ENT
                    tag = URU
                    tag = PRG
                    tag = CRT
                }
                is_our_vassal = ARC
            }
            country_event = 251072
        }

        relation = {
            who = SBA
            value = -400
        }

        SBA = {
            define_general = {
                name = "Bartolomé Mitre"
                background = cavalry_school
                personality = resolute
            }

            add_country_modifier = {
                name = caudillo_leaders
                duration = 3650
            }

            add_country_modifier = {
                name = unrecognized_country
                duration = 3650
            }

            add_country_modifier = {
                name = america_new_world
                duration = 3650
            }

            any_country = {
                limit = {
                    capital_scope = { continent = south_america }
                }

                relation = {
                    who = SBA
                    value = -110
                }
            }

            # rbx note-all these changes and reforms rightfully belong to SBA instead of ARC-The unitarian party should be in charge-liberal-and the nv is changed to hopefully reinforce this
            government = democracy
            nationalvalue = nv_liberty
            ruling_party_ideology = liberal

            # rbx note-upper house will be all liberal but the alternative is to have it be mostly Conservative which would be unacceptable for SBA
            upper_house = {
                ideology = liberal
                value = 0.1
            }

            rich_strata = {
                ideology = {
                    value = liberal
                    factor = 0.9
                }
            }

            middle_strata = {
                ideology = {
                    value = liberal
                    factor = 0.5
                }
            }

            poor_strata = {
                ideology = {
                    value = liberal
                    factor = 0.3
                }
            }

            # rbx note-this is not historical but I change it because of game mechanics to bolster liberal rule in SBA
            random_owned = {
                limit = {
                    NOT = { owner = { slavery = no_slavery } }
                }

                owner = { political_reform = no_slavery }
            }

            random_owned = {
                limit = {
                    owner = { vote_franschise = none_voting }
                }

                owner = { political_reform = landed_voting }
            }

            random_owned = {
                limit = {
                    NOT = { owner = { upper_house_composition = population_equal_weight } }
                }

                owner = { political_reform = population_equal_weight }
            }

            random_owned = {
                limit = {
                    NOT = { owner = { public_meetings = yes_meeting } }
                }

                owner = { political_reform = yes_meeting }
            }

            random_owned = {
                limit = {
                    NOT = { owner = { press_rights = free_press } }
                }

                owner = { political_reform = free_press }
            }

            random_owned = {
                limit = {
                    owner = { trade_unions = no_trade_unions }
                }

                owner = { political_reform = state_controlled }
            }

            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            political_parties = underground_parties
                            political_parties = harassment
                        }
                    }
                }

                owner = { political_reform = gerrymandering }
            }
        }

        ai_chance = { factor = 100 }
    }
}

# rbx note - Ask CRT to join ARC after ARC wins the war - AI will accept
country_event = {
    id    = 251030
    title = "EVTNAME251030"
    desc  = "EVTDESC251030"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = { days = 2 }

    option = {
        name = "EVTOPTA251030" # Invite

        CRT = {
            country_event = 251045
        }

        ai_chance { factor = 100}
    }

    option = {
        name = "EVTOPTB251030" # No invite

        random_country = {
            limit = {
                tag = CRT
                exists = yes
            }

            CRT = {
                all_core = { remove_core = ARC }
                all_core = { remove_core = ENT }
            }
        }

        ai_chance = { factor = 0 }
    }
}

# rbx note - Ask CRT to join ARC after ENT wins the war - AI will accept
country_event = {
    id    = 251040
    title = "EVTNAME251040"
    desc  = "EVTDESC251040"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = { days = 2 }

    option = {
        name = "EVTOPTA251040" # Invite
        CRT = {
            country_event = 251041
        }
        ai_chance = { factor = 100 }
    }

    option = {
        name = "EVTOPTB251040" # No invite

        random_country = {
            limit = {
                tag = CRT
                exists = yes
            }

            CRT = {
                all_core = { remove_core = ARC }
            }
        }

        ai_chance = { factor = 0 }
    }
}

# rbx note - Corrientes responds to request to join ARC after Platine War
country_event = {
    id    = 251041
    title = "EVTNAME251041"
    desc  = "EVTDESC251041"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 2
    }

    option = {
        name = "EVTOPTA251041" # Join

        ENT = {
            country_event = 251042
        }

        ai_chance = { factor = 100 }
    }

    option = {
        name = "EVTOPTB251041" # Remain independent

        ENT = {
            country_event = 251043
        }

        ai_chance = { factor = 0 }
    }
}

# rbx note - CRT agrees to join
country_event = {
    id    = 251042
    title = "EVTNAME251042"
    desc  = "EVTDESC251042"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 4
    }

    option = {
        name = "EVTOPTA251042"

        ARC = {
            create_vassal = CRT
        }

        UTI = {
            country_event = 250044
        }
    }
}

# rbx note - CRT refuses to join
country_event = {
    id    = 251043
    title = "EVTNAME251043"
    desc  = "EVTDESC251043"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = "EVTOPTA251043"

        ARC = {
            casus_belli = {
                target = CRT
                type = make_puppet
                months = 24
            }
        }

        ENT = {
            casus_belli = {
                target = CRT
                type = make_puppet
                months = 24
            }
        }
    }
}

country_event = {
    id = 250044
    #rbx note - for some unknown reason Corrientes loses provinces when it becomes a puppet of ARC

    is_triggered_only = yes

    option = {
        2358 = { secede_province = UTI }
        2356 = { secede_province = UTI }
        2357 = { secede_province = UTI }

        CRT = {
            inherit = UTI
            capital = 2356
        }
    }
}

# rbx note - Corrientes responds to request to join ARC after ARC wins Platine War
country_event = {
    id    = 251045
    title = "EVTNAME251041"
    desc  = "EVTDESC251041"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 2
    }

    option = {
        name = "EVTOPTA251041" # Join

        ARC = {
            country_event = 251046
        }

        ai_chance = { factor = 100 }
    }

    option = {
        name = "EVTOPTB251041" # Remain independent

        ARC = {
            country_event = 251043
        }

        ai_chance = { factor = 0 }
    }
}

# rbx note - CRT agrees to join
country_event = {
    id    = 251046
    title = "EVTNAME251042"
    desc  = "EVTDESC251042"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 4
    }

    option = {
        name = "EVTOPTA251042"

        ARC = {
            create_vassal = CRT
        }

        UTI = {
            country_event = 250044
        }
    }
}

# rbx note-because game wants to end when inheriting ENT
country_event = {
    id    = 251050
    title = "EVTNAME251050"
    desc  = "EVTDESC251050"

    fire_only_once = 1
    is_triggered_only = yes

    mean_time_to_happen = { days = 2 }

    option = {
        name = "EVTOPTA251050"

        ARC = {
            set_country_flag = entre_rios_has_happened
            remove_country_modifier = north_coalition
            inherit = ENT
            capital = 2360
        }
    }
}

# Negotiation between SBA and the Confederation
country_event = {
    id      = 251060
    title   = "EVTNAME251060"
    desc    = "EVTDESC251060"
    picture = "san_nicolas"

    fire_only_once = yes

    trigger = {
        tag = SBA
        war = no
        is_vassal = no
        year = 1853
        exists = yes

        OR = {
            ARC = {
                exists = yes
                is_vassal = no
            }

            CRT = {
                exists = yes
                is_vassal = no
                is_our_vassal = ARC
            }
        }
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = "EVTOPTA251060" # Attack the Confederation

        SBA = {
            set_country_flag = sba_attacks_for_uniting_argentina
        }

        random_country = {
            limit = {
                tag = ARC
                is_vassal = no
            }
            war = {
                target = SBA
                attacker_goal = { casus_belli = civil_war }
                defender_goal = { casus_belli = civil_war }
                call_ally = no
            }
            country_event = 251061
            }

        random_country = {
            limit = {
                OR = {
                    tag = ENT
                    tag = CRT
                    tag = PRG
                    tag = URU
                }
                is_vassal = no
                is_our_vassal = ARC
            }
            war = {
                target = SBA
                attacker_goal = { casus_belli = humiliate }
                defender_goal = { casus_belli = humiliate }
                call_ally = no
            }
            country_event = 251061
            }

        ai_chance = { factor = 95 }
    }

    option = {
        name = "EVTOPTB251060" # Bide our time

        casus_belli = {
            target = ARC
            type = civil_war
        }

        ARC = {
            casus_belli = {
                target = SBA
                type = civil_war
            }
        }

        ENT = {
            casus_belli = {
                target = SBA
                type = civil_war
            }
        }

        CRT = {
            casus_belli = {
                target = SBA
                type = civil_war
            }
        }

        ai_chance = { factor = 0 }
    }

    option = {
        name = "EVTOPTC251060" # Agree to their demands

        random_owned = {
            limit = { owner = { ai = no } }

            owner = { change_tag_no_core_switch = ARC }
        }

        ARC = {
            inherit = SBA
            country_event = 251062
        }

        any_pop = {
            militancy = 4
            consciousness = 6
        }

        ai_chance = {
            factor = 5

            modifier = {
                factor = 0.5
                NOT = { total_amount_of_divisions = 1 }
            }
        }
    }
}

# The Argentine Civil War
country_event = {
    id      = 251061
    title   = "EVTNAME251061"
    desc    = "EVTDESC251061"
    picture = "mitre_urquiza"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251061" # To Arms!
    }
}

# Buenos Aires stands down
country_event = {
    id    = 251062
    title = "EVTNAME251062"
    desc  = "EVTDESC251062"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251062"
    }
}

# Negotiation between SBA and Entre Rios-dominated Confederation or of any platine overlord of ARC
country_event = {
    id      = 251070
    title   = "EVTNAME251070"
    desc    = "EVTDESC251070"
    picture = "san_nicolas"

    fire_only_once = yes

    trigger = {  # rbx note-See event 251060-In this case ENT is intended to be the overlord

    	tag = SBA

        SBA = {
            war = no
            is_vassal = no
            exists = yes
        }

        year = 1852

        OR = {
            ENT = {
                is_our_vassal = ARC
                is_vassal = no
            }
            CRT = {
                is_our_vassal = ARC
                is_vassal = no
            }
            URU = {
                is_our_vassal = ARC
                is_vassal = no
            }
            PRG = {
                is_our_vassal = ARC
                is_vassal = no
            }
        }
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = "EVTOPTA251070" # Attack overlord of ARC

        SBA = {
            set_country_flag = sba_attacks_for_uniting_argentina
        }

        random_country = {
            limit = {
                OR = {
                    tag = ENT
                    tag = CRT
                    tag = PRG
                    tag = URU
                }
                is_vassal = no
                is_our_vassal = ARC
            }
            war = {
                target = SBA
                attacker_goal = { casus_belli = humiliate }
                defender_goal = { casus_belli = humiliate }
                call_ally = no
            }
            country_event = 251061
            }

        ai_chance = { factor = 95 }
    }

    option = {
        name = "EVTOPTB251070" # Bide our time

        casus_belli = {
            target = ENT
            type = civil_war
        }

        ARC = {
            casus_belli = {
                target = SBA
                type = civil_war
            }
        }

        random_country = {
            limit = {
                is_our_vassal = ARC
            }
            casus_belli = {
                target = SBA
                type = free_allied_cores
            }
        }

        ai_chance = { factor = 0 }
    }

    option = {
        name = "EVTOPTC251070" # Agreed to their demands

        SBA = {
            change_tag_no_core_switch = ARC
        }

        ARC = {
            inherit = SBA
        }

        ENT = {
            country_event = 251062
        }

        any_pop = {
            militancy = 4
            consciousness = 6
        }

        ai_chance = {
            factor = 5

            modifier = {
                factor = 0.5
                NOT = { total_amount_of_divisions = 1 }
            }
        }
    }
}

# The Argentine Civil War - This seems to be a leftover from an attempt to make a duplicate event for overlords of ARC
country_event = {
    id      = 251071
    title   = "EVTNAME251071"
    desc    = "EVTDESC251071"
    picture = "mitre_urquiza"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251071" # To arms!
    }
}

#this retools the SBA release event text to notify an overlord of ARC that SBA has released
country_event = {
    id      = 251072
    title   = "EVTNAME251072"
    desc    = "EVTDESC251072"
    picture = "mitre_urquiza"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251072"
    }
}

#ENT overlord defeats SBA
country_event = {
    id      = 251080
    title   = "EVTNAME251080"
    desc    = "EVTDESC251080"
    picture = "battle_pavon"

    fire_only_once = yes

    trigger = {
        tag = ENT

        THIS = {
            is_vassal = no
            is_our_vassal = ARC
        }

        SBA = {
			war = no
			has_recently_lost_war = yes
            truce_with = ENT
        }

        year = 1853

        NOT = {
            year = 1879
        }
    }

    option = {
        name = "EVTOPTA251080" # Become Argentina

       THIS = {
            prestige = 20
        }

        2348 = {
            add_province_modifier = {
                name = gateway_to_harbor duration = 1825
            }
        }

        CRT = {
            all_core = {
                add_core = ARG
                remove_core = ENT
            }

            nationalvalue = nv_order
        }

        ARC = {
            all_core = {
                add_core = ARG
                remove_core = ARC
            }
        }

        SBA = {
            all_core = {
                add_core = ARG
            }
        }

       ENT = {
            all_core = {
                add_core = ARG
                remove_core = ENT
            }
            inherit = ARC
            inherit = SBA
            inherit = ARG
            change_tag = ARG
            nationalvalue = nv_order
            capital = 2348
        }

        ARG = {
            nationalvalue = nv_order

            add_country_modifier = {
                name = small_immigration_boom
                duration = 1825
            }

            random_owned = {
                limit = {
                    NOT = { owner = { slavery = no_slavery } }
                }

                owner = { political_reform = no_slavery }
            }

            random_owned = {
                limit = {
                    owner = { vote_franschise = none_voting }
                }

                owner = { political_reform = landed_voting }
            }
        }

        set_global_flag = argentina_has_formed

        ai_chance = { factor = 99 }
    }

    option = {
        name = "EVTOPTB251080" # Preserve the Confederation

        SBA = { annex_to = ARC }
        ARC = { 
            nationalvalue = nv_order
        }
        ai_chance = { factor = 1 }
    }
}

#CRT overlord defeats SBA - this recycles localisation from 250080
country_event = {
    id      = 251081
    title   = "EVTNAME251080"
    desc    = "EVTDESC251080"
    picture = "battle_pavon"

    fire_only_once = yes

    trigger = {
        tag = CRT

        THIS = {
            is_vassal = no
            is_our_vassal = ARC
        }

        SBA = {
            war = no
            has_recently_lost_war = yes
            truce_with = CRT            
        }

        year = 1853

        NOT = {
            year = 1879
        }
    }

    option = {
        name = "EVTOPTA2510810" # Become Argentina

       THIS = {
            prestige = 20
        }

        2348 = {
            add_province_modifier = {
                name = gateway_to_harbor duration = 1825
            }
        }

        ARC = {
            all_core = {
                add_core = ARG
                remove_core = ARC
            }
        }

        SBA = {
            all_core = {
                add_core = ARG
            }
        }

        CRT = {
            all_core = {
                add_core = ARG
                remove_core = ENT
            }
            inherit = ARC
            inherit = SBA
            inherit = ARG
            change_tag = ARG
            capital = 2348
            nationalvalue = nv_order
        }

       ENT = {
            all_core = {
                add_core = ARG
                remove_core = ENT
            }
            nationalvalue = nv_order
        }

        ARG = {
            nationalvalue = nv_order

            add_country_modifier = {
                name = small_immigration_boom
                duration = 1825
            }

            random_owned = {
                limit = {
                    NOT = { owner = { slavery = no_slavery } }
                }

                owner = { political_reform = no_slavery }
            }

            random_owned = {
                limit = {
                    owner = { vote_franschise = none_voting }
                }

                owner = { political_reform = landed_voting }
            }
        }

        set_global_flag = argentina_has_formed

        ai_chance = { factor = 99 }
    }

    option = {
        name = "EVTOPTB251080" # Preserve the Confederation

        SBA = { annex_to = ARC }
        ARC = { 
            nationalvalue = nv_order
        }
        ai_chance = { factor = 1 }
    }
}

# Corrientes has an option to join Argentina without a war
country_event = {
    id    = 251090
    title = "EVTNAME251090"
    desc  = "EVTDESC251090"

    fire_only_once = yes

    trigger = {
        tag = CRT

        ARG = {
            exists = yes
            war = no
            is_vassal = no
            is_core = 2356
        }

        CRT = {
            exists = yes
            war = no
            owns = 2356
            is_vassal = no

            NOT = {
                has_country_flag = corrientes_cannot_join_argentina
            }
        }
    }

    option = {
        name = "EVTOPTA251090" # Ask to join

        ARG = {
            country_event = 251091
        }

        CRT = {
            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = 8
                }

                scaled_militancy = {
                    ideology = conservative
                    factor = 6
                }

                scaled_militancy = {
                    ideology = liberal
                    factor = -8
                }

                scaled_militancy = {
                    ideology = anarcho_liberal
                    factor = -4
                }

                scaled_militancy = {
                    ideology = socialist
                    factor = -2
                }
            }
        }

        ai_chance = {
            factor = 90
        }
    }

    option = {
        name = "EVTOPTB251090" # Do not join

        CRT = {
            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = -6
                }

                scaled_militancy = {
                    ideology = conservative
                    factor = -4
                }

                scaled_militancy = {
                    ideology = liberal
                    factor = 6
                }

                scaled_militancy = {
                    ideology = anarcho_liberal
                    factor = 4
                }

                scaled_militancy = {
                    ideology = socialist
                    factor = 2
                }
            }
        }

        ARG = {
            release_vassal = CRT
        }

        ai_chance = {
            factor = 10
        }
    }
}

# Corrientes has asked to join Argentina
country_event = {
    id    = 251091
    title = "EVTNAME251091"
    desc  = "EVTDESC251091"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251091" # Accept them

        CRT = { set_country_flag = corrientes_can_join_argentina }
        CRT = { country_event = 251092 }

        ai_chance = {
            factor = 100
        }
    }

    option = {
        name = "EVTOPTB251091" # Refuse them

        CRT = { set_country_flag = corrientes_cannot_join_argentina }
        CRT = { country_event = 251094 }

        ai_chance = {
            factor = 0
        }
    }
}

# Argentina says yes to Corrientes
country_event = {
    id    = 251092
    title = "EVTNAME251092"
    desc  = "EVTDESC251092"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251092"

        CRT = { change_tag_no_core_switch = ARG }
        CRT = { all_core = { remove_core = CRT } }
        ENT = { all_core = { remove_core = CRT } }
        CRT = { country_event = 251093 }
    }
}

# Argentina absorbs Corrientes
country_event = {
    id    = 251093
    title = "EVTNAME251093"
    desc  = "EVTDESC251093"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251093"

        # cleanup to make sure that the player can tag switch from CRT to ARG
        CRT = { annex_to = ARG }
        CRT = { clr_country_flag = corrientes_can_join_argentina }
    }
}

# Argentina says no to Corrientes
country_event = {
    id    = 251094
    title = "EVTNAME251094"
    desc  = "EVTDESC251094"

    fire_only_once = yes

    is_triggered_only = yes

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = "EVTOPTA251094"
        CRT = { all_core = { remove_core = ARG } }
    }
}

# Entre Rios has an option to join Argentina without a war just in case things are wacky
country_event = {
    id    = 251100
    title = "EVTNAME251100"
    desc  = "EVTDESC251100"

    fire_only_once = yes

    trigger = {
        tag = ENT

        ARG = {
            exists = yes
            war = no
            is_vassal = no
            is_core = 2360
        }

        ENT = {
            exists = yes
            owns = 2360
            war = no
            is_vassal = no

            NOT = {
                has_country_flag = entrerios_cannot_join_argentina
            }
        }
    }

    option = {
        name = "EVTOPTA251100" # Ask to join

        ARG = {
            country_event = 251101
        }

        ENT = {
            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = 8
                }

                scaled_militancy = {
                    ideology = conservative
                    factor = 6
                }

                scaled_militancy = {
                    ideology = liberal
                    factor = -8
                }

                scaled_militancy = {
                    ideology = anarcho_liberal
                    factor = -4
                }

                scaled_militancy = {
                    ideology = socialist
                    factor = -2
                }
            }
        }

        ai_chance = {
            factor = 90
        }
    }

    option = {
        name = "EVTOPTB251100" # Do not join

        ENT = {
            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = -6
                }

                scaled_militancy = {
                    ideology = conservative
                    factor = -4
                }

                scaled_militancy = {
                    ideology = liberal
                    factor = 6
                }

                scaled_militancy = {
                    ideology = anarcho_liberal
                    factor = 4
                }

                scaled_militancy = {
                    ideology = socialist
                    factor = 2
                }
            }
        }

        ARG = {
            release_vassal = ENT
        }

        ai_chance = {
            factor = 10
        }
    }
}

# Entre Rios has asked to join Argentina
country_event = {
    id    = 251101
    title = "EVTNAME251101"
    desc  = "EVTDESC251101"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251101" # Accept them

        ENT = { set_country_flag = entrerios_can_join_argentina }
        ENT = { country_event = 251102 }

        ai_chance = {
            factor = 100
        }
    }

    option = {
        name = "EVTOPTB251101" # Refuse them

        ENT = { set_country_flag = entrerios_cannot_join_argentina }
        ENT = { country_event = 251104 }

        ai_chance = {
            factor = 0
        }
    }
}

# Argentina says yes to Entre Rios
country_event = {
    id    = 251102
    title = "EVTNAME251102"
    desc  = "EVTDESC251102"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251102"

        ENT = { change_tag_no_core_switch = ARG }
        ENT = { all_core = { remove_core = ENT } }
        CRT = { all_core = { remove_core = ENT } }
        ENT = { country_event = 251103 }
    }
}

# Argentina absorbs Entre Rios
country_event = {
    id    = 251103
    title = "EVTNAME251103"
    desc  = "EVTDESC251103"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251103"

        # cleanup to make sure that the player can tag switch from ENT to ARG
        ENT = { annex_to = ARG }
        ENT = { clr_country_flag = entrerios_can_join_argentina }
    }
}

# Argentina does not absorb Entre Rios
country_event = {
    id    = 251104
    title = "EVTNAME251104"
    desc  = "EVTDESC251104"

    fire_only_once = yes

    is_triggered_only = yes

    mean_time_to_happen = {
        days = 1 }

    option = {
        name = "EVTOPTA251104"

        ENT = { all_core = { remove_core = ARG } }
    }
}

# Warning to the Confederation
country_event = {
    id      = 251110
    title   = "EVTNAME251110"
    desc    = "EVTDESC251110"
    picture = "rosas"


    fire_only_once = yes

    trigger = {
        tag = ARC
        year = 1849

        ARC = {
            exists = yes
            is_vassal = no
            government = presidential_dictatorship
        }
    }

    option = {
        name = "EVTOPTA251110" # Stay the course
        ai_chance = { factor = 100 }
    }

    option = {
        name = "EVTOPTB251110" # Become republic

        ARC = {
            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = 8
                }
            }

            prestige = -20

            government = democracy
            ruling_party_ideology = conservative
            remove_country_modifier = cch.argentine-civil-wars

            random_owned = {
                limit = {
                    owner = { vote_franschise = none_voting }
                }

                owner = { political_reform = landed_voting }
            }

            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            political_parties = underground_parties
                            political_parties = harassment
                        }
                    }
                }

                owner = { political_reform = gerrymandering }
            }
        }

        ai_chance = { factor = 0 }
    }
}

# The Confederation submits
country_event = {
    id      = 251120
    title   = "EVTNAME251120"
    desc    = "EVTDESC251120"
    picture = "battle_pavon"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251120"
    }
}

# Player Argentine Confederation to join declared ARG
country_event = {
    id    = 251130
    title = "EVTNAME251130"
    desc  = "EVTDESC251130"

    fire_only_once = yes

    trigger = {
        tag = ARC

        ARG = {
            exists = yes
            war = no
            is_vassal = no
        }

        ARC = {
            exists = yes
            war = no
            is_vassal = no

            NOT = {
                has_country_flag = arc_cannot_join_argentina
            }
        }
    }

    option = {
        name = "EVTOPTA251130" # Ask to join

        ARG = {
            country_event = 251131

            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = 8
                }

                scaled_militancy = {
                    ideology = conservative
                    factor = 6
                }

                scaled_militancy = {
                    ideology = liberal
                    factor = -8
                }

                scaled_militancy = {
                    ideology = anarcho_liberal
                    factor = -4
                }

                scaled_militancy = {
                    ideology = socialist
                    factor = -2
                }
            }

            all_core = { remove_core = ARC }
        }

        ai_chance = {
            factor = 90
        }
    }

    option = {
        name = "EVTOPTB251130" # Do not join

        any_pop = {
            scaled_militancy = {
                ideology = reactionary
                factor = -6
            }

            scaled_militancy = {
                ideology = conservative
                factor = -4
            }

            scaled_militancy = {
                ideology = liberal
                factor = 6
            }

            scaled_militancy = {
                ideology = anarcho_liberal
                factor = 4
            }

            scaled_militancy = {
                ideology = socialist
                factor = 2
            }
        }

        ARG = {
            release_vassal = ARC
        }

        ai_chance = {
            factor = 10
        }
    }
}

# Argentine Confederation acknowledges creation of Argentina
country_event = {
    id    = 251131
    title = "EVTNAME251131"
    desc  = "EVTDESC251131"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251131" # Accept them

        ARC = {
            set_country_flag = arc_can_join_argentina
            country_event = 251132
        }

        ai_chance = {
            factor = 100
        }
    }

    option = {
        name = "EVTOPTB251131" # Refuse them

        ARC = {
            set_country_flag = arc_cannot_join_argentina
            country_event = 251133
        }

        ai_chance = {
            factor = 0
        }
    }
}

# ARC can join Argentina
country_event = {
    id    = 251132
    title = "EVTNAME251132"
    desc  = "EVTDESC251132"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = "EVTOPTA251132"

        ARC = { change_tag_no_core_switch = ARG }
        ARC = { all_core = { remove_core = ARC } }
        CRT = { all_core = { remove_core = ARC } }
        ARC = { country_event = 251134 }
    }
}

# ARC cannot join Argentina
country_event = {
    id    = 251133
    title = "EVTNAME251133"
    desc  = "EVTDESC251133"

    fire_only_once = yes
    is_triggered_only = yes

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = "EVTOPTA251133"
    }
}

# Argentina absorbs the Confederation
country_event = {
    id    = 251134
    title = "EVTNAME251134"
    desc  = "EVTDESC251134"

    is_triggered_only = yes
    fire_only_once = yes

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = "EVTOPTA251134"

        # cleanup to make sure that the player can tag switch from ARC to ARG
        ARC = { annex_to = ARG }
        ARC = { clr_country_flag = arc_can_join_argentina }
    }
}

# The Argentine Centennial
country_event = {
    id      = 251140
    title   = "EVTNAME251140"
    desc    = "EVTDESC251140"
    picture = "argentine_centennial"

    trigger = {
        year = 1906
        month = 5

        OR = {
            tag = ARC
            tag = CRT
            tag = SBA
            tag = ENT
        }

        THIS = {
            is_vassal = no
        }

        NOT = {
            OR = {
                has_global_flag = argentina_has_formed
                year = 1907
            }
        }
    }

    mean_time_to_happen = {
        days = 25
    }

    fire_only_once = yes

    option = {
        name = "EVTOPTA251140" # Form Argentina

        prestige = 10
        THIS = {
            random_owned = {
                limit = {
                    owner = {
                        is_our_vassal = ENT
                    }
                }

                owner = { release_vassal = ENT }
            }

            random_owned = {
                limit = {
                    owner = {
                        is_our_vassal = CRT
                    }
                }

                owner = { release_vassal = CRT }
            }

            random_owned = {
                limit = {
                    owner = {
                        is_our_vassal = ARC
                    }
                }

                owner = { release_vassal = ARC }
            }

            change_tag = ARG
            remove_country_modifier = cch.argentine-civil-wars
        }

        set_global_flag = argentina_has_formed

        ai_chance = {
            factor = 0.99
        }
    }

    option = {
        name = "EVTOPTB251140" # Stay the course

        ai_chance = {
            factor = 0.01
        }
    }
}

# The Rebellion of 1880
country_event = {
    id      = 251150
    title   = "EVTNAME251150"
    desc    = "EVTDESC251150"
    picture = "los_corrales"


    fire_only_once = yes

    trigger = {
        OR = {
            tag = ARC
            tag = ARG
        }

        exists = yes
        owns = 2348
        year = 1880
        war = no

        AND = {
            government = democracy
            NOT = {
                ruling_party_ideology = liberal
            }
        }

        2348 = {
			is_core = SBA
		}

        SBA = {
            exists = no
        }

        NOT = {
            has_global_flag = la_plata_founded
        }
    }

    mean_time_to_happen = {
        months = 1
    }

    option = {
        name = "EVTOPTA251150" # War

        THIS = {
            release = SBA
        }

        relation = { who = SBA value = -400 }

        SBA = {
            add_country_modifier = {
                name = unrecognized_country
                duration = 3650
            }

            any_country = {
                limit = {
                    capital_scope = { continent = south_america }
                }

                relation = {
                    who = SBA
                    value = -110
                }
            }

            # rbx note-all these changes and reforms rightfully belong to SBA instead of ARC-The unitarian party should be in charge-liberal-and the nv is changed to hopefully reinforce this
            government = democracy
            nationalvalue = nv_liberty
            ruling_party_ideology = liberal

            # rbx note-upper house will be all liberal but the alternative is to have it be mostly Conservative which would be unacceptable for SBA
            upper_house = {
                ideology = liberal
                value = 0.1
            }

            rich_strata = {
                ideology = {
                    value = liberal
                    factor = 0.9
                }
            }

            middle_strata = {
                ideology = {
                    value = liberal
                    factor = 0.5
                }
            }

            poor_strata = {
                ideology = {
                    value = liberal
                    factor = 0.3
                }
            }

            random_owned = {
                limit = { owner = { vote_franschise = none_voting } }

                owner = { political_reform = landed_voting }
            }

            random_owned = {
                limit = { NOT = { owner = { upper_house_composition = population_equal_weight } } }

                owner = { political_reform = population_equal_weight }
            }

            random_owned = {
                limit = { NOT = { owner = { public_meetings = yes_meeting } } }

                owner = { political_reform = yes_meeting }
            }

            random_owned = {
                limit = { NOT = { owner = { press_rights = free_press } } }

                owner = { political_reform = free_press }
            }

            random_owned = {
                limit = { owner = { trade_unions = no_trade_unions } }

                owner = { political_reform = state_controlled }
            }

            random_owned = {
                limit = { owner = { OR = { political_parties = underground_parties political_parties = harassment } } }

                owner = { political_reform = gerrymandering }
            }

            add_country_modifier = {
                name = america_new_world
                duration = 3650
            }

            any_country = {
                limit = {
                    capital_scope = { continent = south_america }
                }

                relation = {
                    who = SBA value = -110
                }
            }

            war = {
                target = THIS
                attacker_goal = { casus_belli = humiliate }
                defender_goal = { casus_belli = civil_war }
            }
        }

        ARC = {
            set_country_flag = sba_federalization_rebellion
        }

        ARG = {
            set_country_flag = sba_federalization_rebellion
        }

        ai_chance = { factor = 100 }
    }

    option = {
        name = "EVTOPTB251150" # No war

        ruling_party_ideology = liberal
        political_reform = regionalism
        prestige = -20
    }
}

# Buenos Aires Victory
country_event = {
    id      = 251160
    title   = "EVTNAME251160"
    desc    = "EVTDESC251160"
    picture = "los_corrales"

    trigger = {
        OR = {
            tag = ARC
            tag = ARG
        }

        has_country_flag = sba_federalization_rebellion
        war = no

        SBA = {
            exists = yes
            is_vassal = no
        }
    }

    option = {
        name = "EVTOPTA251160" # Damn!

        set_global_flag = no_la_plata

        random_country = {
            limit = {
                exists = yes
                tag = SBA
            }

            annex_to = THIS
        }

        THIS = {
            ruling_party_ideology = liberal
            political_reform = regionalism
            prestige = -20
            capital = 2348
        }

        ARC = {
            clr_country_flag = sba_federalization_rebellion
        }

        ARG = {
            clr_country_flag = sba_federalization_rebellion
        }
    }
}

# Buenos Aires Defeat
country_event = {
    id      = 251170
    title   = "EVTNAME251170"
    desc    = "EVTDESC251170"
    picture = "los_corrales"

    trigger = {
        OR = {
            tag = ARC
            tag = ARG
        }

        has_country_flag = sba_federalization_rebellion
        war = no

        SBA = {
            OR = {
                exists = no
                is_our_vassal = yes
            }
        }
    }

    option = {
        name = "EVTOPTA251170"

        prestige = 10

        random_country = {
            limit = {
                exists = yes
                tag = SBA
            }

            annex_to = THIS
        }

        THIS = {
            political_reform = federalism
            prestige = 5
            capital = 2348
            remove_country_modifier = cch.argentine-civil-wars
            all_core = { remove_core = SBA }
        }

        ARC = {
            clr_country_flag = sba_federalization_rebellion
        }

        ARG = {
            clr_country_flag = sba_federalization_rebellion
        }
    }
}

# The Argentine Centennial! when ARG or LPL already exists
country_event = {
    id      = 251180
    title   = "EVTNAME251180"
    desc    = "EVTDESC251180"
    picture = "argentine_centennial"

    fire_only_once = yes

    trigger = {
        year = 1906
        month = 5

        OR = {
            tag = ARG
            tag = LPL
        }

        nationalism_n_imperialism = 1
        is_vassal = no

        OR = {
            ARG = {
                owns = 2356
                owns = 2360
                owns = 2348
                owns = 2379
                owns = 2373
            }

            LPL = {
                owns = 2356
                owns = 2360
                owns = 2348
                owns = 2379
                owns = 2373
            }
        }
    }

    mean_time_to_happen = {
        days = 25
    }

    option = {
        name = "EVTOPTA251180"

        prestige = 10

        any_owned = {
            limit = { is_core = CRT }

            remove_core = CRT
        }

        any_owned = {
            limit = { is_core = ENT }

            remove_core = ENT
        }

        any_owned = {
            limit = { is_core = SBA }

            remove_core = SBA
        }

        any_owned = {
            limit = { is_core = ARC }

            remove_core = ARC
        }

        2131 = {
            remove_core = ARC
        }

        ai_chance = {
            factor = 1
        }
    }
}

# Brazil - Argentina treaty - BRZ side
country_event = {
    id    = 251190
    title = "EVTNAME251190"
    desc  = "EVTDESC251190"

    fire_only_once = yes
    mean_time_to_happen = {
        days = 7
    }

    trigger = {
        tag = BRZ
        year = 1856
        ARG = {
            exists = yes
        }
    }

    option = {
        name = "EVTOPTA251190"

        ARG = {
            country_event = 251191
        }

        ai_chance = { factor = 10 }
    }

    option = {
        name = "EVTOPTB251190"

        ai_chance = { factor = 0 }
    }
}

# Brazil - Argentina treaty - ARG side
country_event = {
    id    = 251191
    title = "EVTNAME251191"
    desc  = "EVTDESC251191"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251190"

        ARG = {
            relation = {
                who = BRZ
                value = 100
            }
        }

        ai_chance = { factor = 10 }
    }

    option = {
        name = "EVTOPTB251190"

        ai_chance = { factor = 0 }
    }
}

# fires when SBA released without Buenos Aires city
country_event = {
    id    = 251192
    title = "EVTNAME251192"
    desc  = "EVTDESC251192"

    trigger = {
        tag = SBA
        SBA = {
            exists = yes
            owns = 2349
            NOT = {
                owns = 2348
            }        
        }
    }

    option = {
        name = "EVTOPTA251192"

        2348 = { secede_province = SBA }
        SBA = {
            capital = 2348
        }
    }
}

#Corrientes may or may not join player Buenos Aires after Pavon
country_event = {
    id    = 251193
    title = "EVTNAME251193"
    desc  = "EVTDESC251193"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251193"

        SBA = {
            country_event = 251194
            create_vassal = CRT
        }
    }

    option = {
        name = "EVTOPTB251193"

        SBA = {
            country_event = 251195
            casus_belli = {
                target = CRT
                type = make_puppet
                months = 72
            }
        }
    }
}

#Corrientes has agreed to SBA's demand
country_event = {
    id    = 251194
    title = "EVTNAME251194"
    desc  = "EVTDESC251194"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251194"
    }
}

#Corrientes refuses SBA's demand
country_event = {
    id    = 251195
    title = "EVTNAME251195"
    desc  = "EVTDESC251195"

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = "EVTOPTA251195"
    }
}

# Chile - Argentina treaty - CHL side
country_event = {
    id    = 251196
    title = "EVTNAME251196"
    desc  = "EVTDESC251196"

    fire_only_once = yes
    mean_time_to_happen = {
        days = 7
    }

    trigger = {
        tag = CHL
        year = 1855
        ARG = {
            exists = yes
        }
    }

    option = {
        name = "EVTOPTA251196"

        ARG = {
            country_event = 251197
        }

        ai_chance = { factor = 10 }
    }

    option = {
        name = "EVTOPTB251196"

        ai_chance = { factor = 0 }
    }
}

# Chile - Argentina treaty - ARG side
country_event = {
    id    = 251197
    title = "EVTNAME251197"
    desc  = "EVTDESC251197"

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = "EVTOPTA251197"

        ARG = {
            relation = {
                who = CHL
                value = 50
            }
        }

        ai_chance = { factor = 10 }
    }

    option = {
        name = "EVTOPTB251197"

        ai_chance = { factor = 0 }
    }
}
